<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>音乐系统注册</title>
    <link rel="stylesheet" href="resource/ucss/Uregiste.css">
    <script type="text/javascript" src="http://libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
</head>
<body>
<div class="all">
    <div class="text">
        请输入注册信息
    </div>
    <div class="button">
        <input type="text" class="registe" id="U_nickname" placeholder="请输入昵称" />
        <input type="text" class="registe" id="U_password" placeholder="请输入密码" />
        <input type="text" class="registe" id="U_name" placeholder="请输入姓名" />
        <input type="text" class="registe" id="U_idcard" placeholder="请输入身份证号" />
        <input type="text" class="registe" id="U_phone" placeholder="请输入手机号" />
        <input type="text" class="registe" id="U_birthday" placeholder="请输入生日" />
        <input type="text" class="registe" id="U_address" placeholder="请输入住址" />
        <input type="button" class="submit" id="registe" value="注册" onclick="registered();"/>
    </div>
</div>
</body>
<script>

    function registered(){
        var nickname = $("#U_nickname").val();
        var password = $("#U_password").val();
        var name = $("#U_name").val();
        var idcard = $("#U_idcard").val();
        var phone = $("#U_phone").val();
        var birthday = $("#U_birthday").val();
        var address = $("#U_address").val();
        var data = {
            "nickname":nickname,
            "password":password,
            "name":name,
            "idcard":idcard,
            "phone":phone,
            "birthday":birthday,
            "address":address
        }
        $.ajax({
            type:"post",
            url:"UregisterServlet",
            data:data,
            success:function (data){
                console.log(data);
                if(data.code==1) {
                    alert("注册成功");
                    location.href = "Ulogin.html";
                }
                else if (data.code ==-1){
                    alert(data.message);
                }else {
                    alert(data.message)
                }
            }
        })

    }
</script>
</html>